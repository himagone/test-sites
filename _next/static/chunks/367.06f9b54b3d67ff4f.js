"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[367],{93367:(a,C,A)=>{A.r(C),A.d(C,{PointCloudOverlay:()=>f});var P=A(95155),L=A(57048),D=A(55927),e=A(96898),t=A(98127),r=A(80747),s=A(12115),l=A(24759);let n=JSON.parse('{"ec":"https://cyberjapandata.gsi.go.jp/3dpc-3dtiles/pointcloud/iwaki","ZF":[{"id":"the-roof-standard-point","path":"/the-roof-standard-point/tileset.json"}],"jx":["3DPC-AL-55402630-20201029-a","3DPC-AL-55402631-20201029-a","3DPC-AL-55402632-20201029-a","3DPC-AL-55402633-20201029-a","3DPC-AL-55402640-20201029-a","3DPC-AL-55402641-20201029-a","3DPC-AL-55402642-20201029-a","3DPC-AL-55402643-20201029-a","3DPC-AL-55402650-20201029-a","3DPC-AL-55402651-20201029-a","3DPC-AL-55402652-20201029-a","3DPC-AL-55402653-20201029-a","3DPC-AL-55402660-20201029-a","3DPC-AL-55402661-20201029-a","3DPC-AL-55402662-20201029-a","3DPC-AL-55402663-20201029-a","3DPC-AL-55402670-20201029-a","3DPC-AL-55402671-20201029-a","3DPC-AL-55402672-20201029-a","3DPC-AL-55402673-20201029-a","3DPC-AL-55402674-20201029-a","3DPC-AL-55402680-20201029-a","3DPC-AL-55402681-20201029-a","3DPC-AL-55402682-20201029-a","3DPC-AL-55402683-20201029-a","3DPC-AL-55402684-20201029-a","3DPC-AL-55402685-20201029-a","3DPC-AL-55402687-20201029-a","3DPC-AL-55402690-20201029-a","3DPC-AL-55402691-20201029-a","3DPC-AL-55402692-20201029-a","3DPC-AL-55402693-20201029-a","3DPC-AL-55402694-20201029-a","3DPC-AL-55402695-20201029-a","3DPC-AL-55402696-20201029-a","3DPC-AL-55402697-20201029-a","3DPC-AL-55402698-20201029-a","3DPC-AL-55402699-20201029-a","3DPC-AL-55403600-20201029-a","3DPC-AL-55403601-20201029-a","3DPC-AL-55403602-20201029-a","3DPC-AL-55403603-20201029-a","3DPC-AL-55403604-20201029-a","3DPC-AL-55403605-20201029-a","3DPC-AL-55403606-20201029-a","3DPC-AL-55403607-20201029-a","3DPC-AL-55403608-20201029-a","3DPC-AL-55403609-20201029-a","3DPC-AL-55403610-20201029-a","3DPC-AL-55403611-20201029-a","3DPC-AL-55403612-20201029-a","3DPC-AL-55403613-20201029-a","3DPC-AL-55403614-20201029-a","3DPC-AL-55403615-20201029-a","3DPC-AL-55403616-20201029-a","3DPC-AL-55403617-20201029-a","3DPC-AL-55403618-20201029-a","3DPC-AL-55403619-20201029-a","3DPC-AL-55403625-20201029-a","3DPC-AL-55403626-20201029-a","3DPC-AL-55403627-20201029-a","3DPC-AL-55403628-20201029-a","3DPC-AL-55403629-20201029-a","3DPC-AL-55403635-20201029-a","3DPC-AL-55403636-20201029-a","3DPC-AL-55403637-20201029-a","3DPC-AL-55403638-20201029-a","3DPC-AL-55403639-20201029-a","3DPC-AL-55403645-20201029-a","3DPC-AL-55403646-20201029-a","3DPC-AL-55403647-20201029-a","3DPC-AL-55403648-20201029-a","3DPC-AL-55403649-20201029-a","3DPC-AL-55403655-20201029-a","3DPC-AL-55403656-20201029-a","3DPC-AL-55403657-20201029-a","3DPC-AL-55403658-20201029-a","3DPC-AL-55403659-20201029-a","3DPC-AL-55403665-20201029-a","3DPC-AL-55403666-20201029-a","3DPC-AL-55403667-20201029-a","3DPC-AL-55403668-20201029-a","3DPC-AL-55403669-20201029-a","3DPC-AL-55403700-20201029-a","3DPC-AL-55403701-20201029-a","3DPC-AL-55403702-20201029-a","3DPC-AL-55403710-20201029-a","3DPC-AL-55403711-20201029-a","3DPC-AL-55403712-20201029-a","3DPC-AL-55403713-20201029-a","3DPC-AL-55403720-20201029-a","3DPC-AL-55403721-20201029-a","3DPC-AL-55403722-20201029-a","3DPC-AL-55403723-20201029-a","3DPC-AL-55403724-20201029-a","3DPC-AL-55403730-20201029-a","3DPC-AL-55403731-20201029-a","3DPC-AL-55403732-20201029-a","3DPC-AL-55403733-20201029-a","3DPC-AL-55403734-20201029-a","3DPC-AL-55403740-20201029-a","3DPC-AL-55403741-20201029-a","3DPC-AL-55403742-20201029-a","3DPC-AL-55403743-20201029-a","3DPC-AL-55403744-20201029-a","3DPC-AL-55403745-20201029-a","3DPC-AL-55403746-20201029-a","3DPC-AL-55403750-20201029-a","3DPC-AL-55403751-20201029-a","3DPC-AL-55403752-20201029-a","3DPC-AL-55403753-20201029-a","3DPC-AL-55403754-20201029-a","3DPC-AL-55403755-20201029-a","3DPC-AL-55403756-20201029-a","3DPC-AL-55403757-20201029-a","3DPC-AL-55403760-20201029-a","3DPC-AL-55403761-20201029-a","3DPC-AL-55403762-20201029-a","3DPC-AL-55403763-20201029-a","3DPC-AL-55403764-20201029-a","3DPC-AL-55403765-20201029-a","3DPC-AL-55403766-20201029-a","3DPC-AL-55403767-20201029-a","3DPC-AL-55403772-20201029-a","3DPC-AL-55403773-20201029-a","3DPC-AL-55403774-20201029-a","3DPC-AL-55403775-20201029-a","3DPC-AL-55403776-20201029-a","3DPC-AL-55403777-20201029-a","3DPC-AL-55403784-20201029-a","3DPC-AL-55403785-20201029-a","3DPC-AL-55403786-20201029-a","3DPC-AL-55403787-20201029-a","3DPC-AL-55403788-20201029-a","3DPC-AL-55403794-20201029-a","3DPC-AL-55403795-20201029-a","3DPC-AL-55403796-20201029-a","3DPC-AL-55403797-20201029-a","3DPC-AL-55403798-20201029-a","3DPC-AL-55404704-20201029-a","3DPC-AL-55404705-20201029-a","3DPC-AL-55404706-20201029-a","3DPC-AL-55404707-20201029-a","3DPC-AL-55404708-20201029-a","3DPC-AL-55404714-20201029-a","3DPC-AL-55404715-20201029-a","3DPC-AL-55404716-20201029-a","3DPC-AL-55404717-20201029-a","3DPC-AL-55404718-20201029-a","3DPC-AL-55404724-20201029-a","3DPC-AL-55404725-20201029-a","3DPC-AL-55404726-20201029-a","3DPC-AL-55404727-20201029-a","3DPC-AL-55404734-20201029-a","3DPC-AL-55404735-20201029-a","3DPC-AL-55404736-20201029-a","3DPC-AL-55404737-20201029-a","3DPC-AL-55404744-20201029-a","3DPC-AL-55404745-20201029-a","3DPC-AL-55404746-20201029-a","3DPC-AL-55404747-20201029-a","3DPC-AL-55404748-20201029-a","3DPC-AL-55404754-20201029-a","3DPC-AL-55404755-20201029-a","3DPC-AL-55404756-20201029-a","3DPC-AL-55404757-20201029-a","3DPC-AL-55404758-20201029-a","3DPC-AL-55404764-20201029-a","3DPC-AL-55404765-20201029-a","3DPC-AL-55404766-20201029-a","3DPC-AL-55404767-20201029-a","3DPC-AL-55404768-20201029-a","3DPC-AL-55404774-20201029-a","3DPC-AL-55404775-20201029-a","3DPC-AL-55404776-20201029-a","3DPC-AL-55404777-20201029-a","3DPC-AL-55404778-20201029-a","3DPC-AL-55404784-20201029-a","3DPC-AL-55404785-20201029-a","3DPC-AL-55404786-20201029-a","3DPC-AL-55404787-20201029-a","3DPC-AL-55404788-20201029-a","3DPC-AL-55404794-20201029-a","3DPC-AL-55404795-20201029-a","3DPC-AL-55404796-20201029-a","3DPC-AL-55404797-20201029-a","3DPC-AL-55404798-20201029-a"]}'),o=a=>{let C=a.split("-")[2];return i(a,C)},i=(a,C)=>{let A=0,P=0,L=0,D=0,e=parseInt(C.slice(0,2),10);A=parseInt(C.slice(2,4),10)+100,L=40*e/60;let t=parseInt(C.slice(4,5),10);A+=7.5*parseInt(C.slice(5,6),10)/60,L+=5*t/60;let r=parseInt(C.slice(6,7),10);return A+=45*parseInt(C.slice(7,8),10)/60/60,L+=30*r/60/60,P=A+.0125,D=L+.5/60,p(A,P,L,D,a)},p=(a,C,A,P,L)=>({type:"Feature",properties:{filename:L},geometry:{type:"Polygon",coordinates:[[[a,A],[C,A],[C,P],[a,P],[a,A]]]}}),c=()=>n.ZF.map(a=>new L.A({id:a.id,data:n.ec+a.path})),d=n.jx.map(a=>o(a)),u=a=>((0,l.VI)(()=>new D.A(a)).setProps(a),null),f=()=>{let{current:a}=(0,l.ko)(),[C,A]=(0,s.useState)([]),D=(0,s.useCallback)(()=>{if(!a){A([]);return}let C=a.getBounds(),P=e.k([C.getWest(),C.getSouth(),C.getEast(),C.getNorth()]),D=t.Lr(d.filter(a=>r.l(P,a)));A([...c(),...D.features.map(a=>{var C;let A=null===(C=a.properties)||void 0===C?void 0:C.filename;return new L.A({id:"3d-tiles-layer-".concat(A),data:"".concat(n.ec,"/").concat(A,"/tileset.json")})})])},[a]);return(0,s.useEffect)(()=>(D(),null==a||a.on("moveend",D),()=>{null==a||a.off("moveend",D)}),[a,D]),(0,P.jsx)(u,{layers:C})}}}]);